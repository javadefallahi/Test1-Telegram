<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no"
    />
    <title>MyPet3D โ ููโุงูพ</title>

    <!-- Google <model-viewer> web component -->
    <script
      type="module"
      src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"
    ></script>

    <style>
      /* โโโ Design tokens โโโ */
      :root {
        --brand: #6366f1;
        --bg: #f0f2f7;
        --card: #ffffff;
        --radius: 1rem;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
          Arial, sans-serif;
      }

      @media (prefers-color-scheme: dark) {
        :root {
          --bg: #1a1a1a;
          --card: #2a2a2a;
          --brand: #8183ff;
          color-scheme: dark;
          color: #f4f4f4;
        }
      }

      /* โโโ Reset & helpers โโโ */
      * {
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
      }

      body {
        margin: 0;
        background: var(--bg);
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      /* โโโ Layout wrapper โโโ */
      #app {
        flex: 1 1 auto;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
        padding: 0.75rem;
      }

      /* โโโ 3โD viewer โโโ */
      #viewer-container {
        background: var(--card);
        border-radius: var(--radius);
        overflow: hidden;
        position: relative;
        width: 100%;
      }

      model-viewer {
        width: 100%;
        height: 60vh; /* takes up healthy portion of phone screen */
        --poster-color: var(--bg);
      }

      #toyOverlay {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 80px;
        height: 80px;
        transform: translate(-50%, -50%);
        pointer-events: none;
        display: none;
      }

      /* โโโ Controls โโโ */
      #controls {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      label {
        font-weight: 600;
        font-size: 0.9rem;
      }

      select,
      input[type="color"],
      button,
      a.checkout {
        font: inherit;
        border: 2px solid var(--brand);
        background: var(--card);
        padding: 0.55rem 0.8rem;
        border-radius: 0.75rem;
        cursor: pointer;
        transition: background 0.2s;
      }

      button:hover,
      select:hover,
      input[type="color"]:hover,
      a.checkout:hover {
        background: var(--brand);
        color: #fff;
      }

      #toy-store {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
      }

      #toy-store button {
        flex: 1 1 45%; /* two buttons per row on small screens */
      }

      a.checkout {
        text-align: center;
        text-decoration: none;
        font-weight: 700;
        margin-top: 0.5rem;
      }

      /* โโโ Modal โโโ */
      #bmModal {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.55);
        z-index: 1000;
        padding: 1rem;
      }

      #bmModal.active {
        display: flex;
      }

      .modal-card {
        background: var(--card);
        border-radius: var(--radius);
        max-width: 600px;
        width: 100%;
        max-height: 90vh;
        overflow-y: auto;
        padding: 1.25rem 1rem;
        direction: rtl; /* Persian direction */
      }

      .modal-card h2 {
        margin-top: 0;
        font-size: 1.25rem;
        text-align: center;
      }

      .modal-card h3 {
        margin: 0.75rem 0 0.25rem;
        font-size: 1.05rem;
        color: var(--brand);
      }

      .modal-card ul {
        margin: 0 0 0.75rem 0;
        padding-right: 1rem;
        list-style: "โข ";
      }

      .close-btn {
        display: block;
        width: 100%;
        border: none;
        margin-top: 0.5rem;
        padding: 0.55rem;
        background: var(--brand);
        color: #fff;
        border-radius: 0.75rem;
        font-weight: 600;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <!-- โโโ 3D Viewer โโโ -->
      <div id="viewer-container">
        <model-viewer
          id="modelViewer"
          src="https://modelviewer.dev/shared-assets/models/Astronaut.glb"
          alt="3D character"
          camera-controls
          auto-rotate
          shadow-intensity="1"
          ar
        ></model-viewer>
        <img id="toyOverlay" src="" alt="Toy overlay" />
      </div>

      <!-- โโโ UI Controls โโโ -->
      <div id="controls">
        <!-- โ Character selection -->
        <label for="modelSelect">ุญูุงู</label>
        <select id="modelSelect">
          <option value="astro">ุณฺฏ ูุถุงููุฑุฏ</option>
          <option value="robot">ฺฏุฑุจู ุฑุจุงุชฺฉ</option>
        </select>

        <!-- โก Background color picker -->
        <label for="bgPicker">ูพุณโุฒููู</label>
        <input type="color" id="bgPicker" value="#f0f2f7" />

        <!-- โข Toy store -->
        <label>ุงุณุจุงุจโุจุงุฒโูุง ู ูพูุดุงฺฉ</label>
        <div id="toy-store"></div>

        <!-- โฃ Checkout -->
        <a class="checkout" href="https://www.zarinpal.com/" target="_blank"
          >ุฎุฑุฏ โ</a
        >

        <!-- โค Business Model button -->
        <button id="bmBtn">ูุฏู ฺฉุณุจโูฺฉุงุฑ</button>
      </div>
    </div>

    <!-- โโโ Modal โโโ -->
    <div id="bmModal">
      <div class="modal-card">
        <h2>๐ ูุฏู ฺฉุณุจโูฺฉุงุฑ ุดููุฏ ยซMyPet3Dยป</h2>

        <h3>๐พ ูุดฺฉู ุงุตู</h3>
        <ul>
          <li>ุฎุฑุฏ ุขููุงู ููุงุฒู ุญูุงูุงุช ูุงูุฏ ุชุนุงูู ููููุณ ุงุณุช ู ุฏุฑุจุงุฑูู ุชูุงุณุจุ ุฑุงุญุช ู ุณุจฺฉ ุงุทููุงู ุงุฌุงุฏ ููโฺฉูุฏ.</li>
          <li>ุชุฌุฑุจูู ุนูููุ ูุดุงุฑฺฉุช ูุดุชุฑ ุฑุง ฺฉุงูุด ูโุฏูุฏ ู ุงุฑุชุจุงุท ุดุฎุต ู ุงุญุณุงุณ ูุฏูุธุฑ ุตุงุญุจุงู ุญูุงู ุฑุง ุจุฑุขูุฑุฏู ููโฺฉูุฏ.</li>
          <li>ูุฑุฎ ุจุงุฒฺฏุดุช ุจุงูุง ุจูโุฏูู ุนุฏู ุงูุทุจุงู ุณุงุฒุ ุฑุงุญุช ู ุงูุชุธุงุฑุงุช.</li>
        </ul>

        <h3>๐ฏ ุจุฎุดโูุง ูุดุชุฑ</h3>
        <ul>
          <li>ุตุงุญุจุงู ุญูุงูุงุช ุฎุงูฺฏ ฑธ ุชุง ดต ุณุงู ฺฉู ุญูุงู ุฑุง ุนุถู ุฎุงููุงุฏู ูโุฏุงููุฏ ู ุจู ุชุฌุฑุจูู ุฎุฑุฏ ุดุฎุต ู ุงุญุณุงุณ ุงููุช ูโุฏููุฏ.</li>
          <li>ูุณู Z ู ูุฒุงุฑูโุงโูุง ฺฉู ุงุฑุฒุด ุดุฎุตโุณุงุฒ ุฏุฌุชุงู ู ุฎุฑุฏ ุชุนุงูู ุขููุงู ุฑุง ูโุดูุงุณูุฏ.</li>
          <li>ุจุฑูุฏูุง ููุงุฒู ุญูุงูุงุช ฺฉู ุจู ุงุจุฒุงุฑูุง ุจุงุฒุงุฑุงุจ ุฏุฌุชุงู ุชุนุงูู ูุงุฒ ุฏุงุฑูุฏ.</li>
          <li>ฺฉุงุฑุจุฑุงู ุชูฺฏุฑุงู ู ูุฎุงุทุจุงู ููุจุงูโูุญูุฑ ู ุขุดูุง ุจุง ููุงูุฑ.</li>
        </ul>

        <h3>โจ ูพุดููุงุฏ ุงุฑุฒุด ููุญุตุฑุจูโูุฑุฏ</h3>
        <ul>
          <li>ยซุงุฑุชุจุงุท ุงุญุณุงุณ ุฑุง ุชุฌุฑุจู ฺฉู: ุจุจูุ ุดุฎุตโุณุงุฒ ฺฉู ู ุจุง ุงุทููุงู ุจุฎุฑ.ยป</li>
          <li>ุชุฌุฑุจูู ุณูโุจุนุฏ ุจุณุงุฑ ุดุฎุต ู ุชุนุงูู ฺฉู ุงุญุณุงุณุงุช ุฑุง ุฏุฑฺฏุฑ ูโฺฉูุฏ.</li>
          <li>ุนุฏู ูุทุนุช ุฎุฑุฏ ุฑุง ุจุง ุดุจูโุณุงุฒ ุฏูู ุชูุงุณุจุ ุฑุงุญุช ู ุณุจฺฉ ฺฉุงูุด ูโุฏูุฏ.</li>
        </ul>

        <h3>๐ ุฑุงูฺฉุงุฑูุง ููุขูุฑุงูู</h3>
        <ul>
          <li>ุชุตูุฑุณุงุฒ ุณูโุจุนุฏ ูุงูุนโฺฏุฑุงุงูู ุจุง ุงูฺฉุงู ยซูพุฑูู ูุฌุงุฒยป ูุจุชู ุจุฑ ุงูุฏุงุฒูู ูุงูุน ุญูุงู.</li>
          <li>ููุชูุฑ ุดุฎุตโุณุงุฒ ุดุงูู ุทุฑุญโูุงุ ุฑูฺฏโูุง ู ููุดุชูโูุง ุณูุงุฑุด.</li>
          <li>ูพุดููุงุฏูุง ููุดููุฏ ูุจุชู ุจุฑ ููุด ูุตููุน ุทุจู ูพุฑููุงู ุญูุงู ู ุณุงุจููู ุฎุฑุฏ.</li>
          <li>ุดุงุฎุตโูุง ุฏูุงู ู ฺฉูุช ุฏุฑูู ูพุดโููุงุด ูุญุตูู.</li>
        </ul>

        <h3>๐ข ฺฉุงูุงูโูุง</h3>
        <ul>
          <li>ููโุงูพ ุงุณุชูุฑ ุชูฺฏุฑุงู ุจุฑุง ุงุฏุบุงู ุจโุฏุฑุฏุณุฑ ุฏุฑ ุนุงุฏุชโูุง ูพุงูโุฑุณุงู ุฑูุฒุงูู.</li>
          <li>ุงูุณุชุงฺฏุฑุงู ู ุชฺฉโุชุงฺฉ ุจุง ุงุณุชูุงุฏู ุงุฒ ุงููููุฆูุณุฑูุง ุญูุงูุงุช.</li>
          <li>ุดุฑุงฺฉุช ุฑุงูุจุฑุฏ ุจุง ุจุฑูุฏูุง ููุงุฒู ุญูุงูุงุช ู ูุฑูุดฺฏุงูโูุง ูุฒฺฉ (ฺฉุฏ QR).</li>
          <li>ุงูุฒูููโูุง Shopify ู WooCommerce ุจุฑุง ุชูุณุนูู ุงฺฉูุณุณุชู ุชุฌุงุฑุช ุงูฺฉุชุฑููฺฉ.</li>
        </ul>

        <h3>๐ฐ ุฌุฑุงูโูุง ุฏุฑุขูุฏ</h3>
        <ul>
          <li>ฺฉูุณูู ุงุฒ ูุฑูุด ููุงุฒู ุญูุงูุงุช.</li>
          <li>ุทุฑุญโูุง ุณูโุจุนุฏ ุดุฎุต ููุชุงุฒ ู ุขุชูโูุง ูุฌุงุฒ ุงูุญุตุงุฑ.</li>
          <li>ุฌุงฺฏุงูโูุง ุชุจูุบุงุช ู ุชุฌุฑุจูโูุง ุชุนุงูู ุจุฑุง ุจุฑูุฏูุง.</li>
          <li>ุงุดุชุฑุงฺฉ ุจุฑุง ุฎุฑุฏุงุฑุงู ูพุฑุชฺฉุฑุงุฑ ุจุง ุฏุณุชุฑุณ ุฒูุฏููฺฏุงูุ ุชุฎูู ู ูพุดโููุงุด ุงุฎุชุตุงุต.</li>
        </ul>

        <h3>๐ ููุงุจุน ฺฉูุฏ</h3>
        <ul>
          <li>ุฒุฑุณุงุฎุช ูพุดุฑูุชูู ูุฏูโุณุงุฒ ุณูโุจุนุฏ ู ูุงูุนุช ุงูุฒูุฏู.</li>
          <li>ุงูฺฏูุฑุชูโูุง ููุด ูุตููุน ุจุฑุง ุดุฎุตโุณุงุฒ ู ุจูุด ูุดุชุฑ.</li>
          <li>ุงุชุตุงู ุจู ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช ูุญู (ุฒุฑูโูพุงู) ุจุฑุง ุชุฑุงฺฉูุด ุจุฏูู ุงุตุทฺฉุงฺฉ.</li>
          <li>ุชู ููุงูุฑ ู ุทุฑุงุญ ูุงูุฑ ุจุฑุง ููุขูุฑ ู ูพุดุชุจุงู ูุฏุงูู.</li>
        </ul>

        <h3>๐ ุดุงุฎุตโูุง ฺฉูุฏ</h3>
        <ul>
          <li>ูุฑุฎ ุชุจุฏู ูพุดโููุงุด ุชุนุงูู ุจู ุฎุฑุฏ.</li>
          <li>ูุฏุช ู ุฏูุนุงุช ุชุนุงูู ูุดุชุฑ.</li>
          <li>ูุฑุฎ ุจุงุฒฺฏุดุช ุณูุงุฑุดโูุง ู ูุชุงุฌ ูุธุฑุณูุฌ ุฑุถุงุช ูุดุชุฑ.</li>
          <li>ูุฑุฎ ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ุฏุฑ ุดุจฺฉูโูุง ุงุฌุชูุงุน ู ุญุฌู ูุญุชูุง ุชููุฏุดุฏู ุชูุณุท ฺฉุงุฑุจุฑ.</li>
        </ul>

        <h3>๐ ุจุฑุชุฑ ูุงุนุงุฏูุงูู</h3>
        <ul>
          <li>ุจุฑุชุฑ ูพุดฺฏุงู ุฏุฑ ุงุฑุงุฆูู ุชุฌุฑุจู ุณูโุจุนุฏ ฺฉุงููุงู ุชุนุงูู ู ุงุญุณุงุณ ุฏุฑ ููโุงูพ ุชูฺฏุฑุงู.</li>
          <li>ุงุฏุบุงู ุนูู ุดุฎุตโุณุงุฒ ู ุฌุฐุงุจุช ุงุญุณุงุณ ุจุฑุง ุงุฌุงุฏ ูพููุฏ ูู ุจุง ูุดุชุฑ.</li>
          <li>ุฑุงูฺฉุงุฑูุง ูพุฑุฏุงุฎุช ุจูู ู ุจุฑูุฏูฺฏ ูุชูุงุณุจ ุจุง ูุฑููฺฏ ุจุงุฒุงุฑ ุงุฑุงู.</li>
        </ul>

        <button class="close-btn" id="closeModal">ุจุณุชู</button>
      </div>
    </div>

    <script>
      /* โโโ Data โโโ */
      const MODELS = {
        astro: "https://modelviewer.dev/shared-assets/models/Astronaut.glb",
        robot: "https://modelviewer.dev/shared-assets/models/RobotExpressive.glb",
      };

      const TOYS = [
        {
          id: "star",
          name: "ุณุชุงุฑู ุทูุง",
          preview:
            "https://raw.githubusercontent.com/iconic/open-iconic/master/png/star-8x.png",
        },
        {
          id: "ball",
          name: "ุชููพ ููุฑ",
          preview: "https://i.imgur.com/NtWPrPs.png",
        },
        {
          id: "hat",
          name: "ฺฉูุงู ุฌุงุฏูฺฏุฑ",
          preview: "https://i.imgur.com/xyobkOD.png",
        },
      ];

      /* โโโ Element refs โโโ */
      const modelViewer = document.getElementById("modelViewer");
      const modelSelect = document.getElementById("modelSelect");
      const bgPicker = document.getElementById("bgPicker");
      const viewerContainer = document.getElementById("viewer-container");
      const toyStore = document.getElementById("toy-store");
      const toyOverlay = document.getElementById("toyOverlay");
      const bmModal = document.getElementById("bmModal");
      const bmBtn = document.getElementById("bmBtn");
      const closeModal = document.getElementById("closeModal");

      /* โโโ Init toy buttons โโโ */
      TOYS.forEach((toy) => {
        const btn = document.createElement("button");
        btn.textContent = toy.name;
        btn.addEventListener("click", () => {
          toyOverlay.src = toy.preview;
          toyOverlay.style.display = "block";
        });
        toyStore.appendChild(btn);
      });

      /* โโโ Listeners โโโ */
      modelSelect.addEventListener("change", (e) => {
        const key = e.target.value;
        modelViewer.src = MODELS[key];
      });

      bgPicker.addEventListener("input", (e) => {
        viewerContainer.style.background = e.target.value;
      });

      bmBtn.addEventListener("click", () => {
        bmModal.classList.add("active");
        document.body.style.overflow = "hidden";
      });

      closeModal.addEventListener("click", () => {
        bmModal.classList.remove("active");
        document.body.style.overflow = "auto";
      });

      // Close modal when tapping outside card
      bmModal.addEventListener("click", (e) => {
        if (e.target === bmModal) {
          closeModal.click();
        }
      });
    </script>
  </body>
</html>
